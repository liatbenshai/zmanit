# דוח ניתוח אפליקציית זמנית (Zmanit)

## תקציר מנהלים

האפליקציה עובדת טוב ברוב הפונקציות. **תיקנתי שני דברים:**
1. **באג בחישוב זמן** - גרם להתראות שווא על חוסר זמן
2. **הפרדה בין שעות עבודה לשעות בית** - עכשיו אפשר לשמור משימות גם אחרי 16:00

---

## שעות פעילות חדשות

| יום | עבודה 💼 | בית/משפחה 🏠 |
|-----|---------|--------------|
| ראשון-חמישי | 08:30-16:00 | 16:30-21:00 |
| שישי-שבת | - | כל היום (גמיש) |

---

## קבצים שעודכנו (9 קבצים)

### 1. `src/components/DailyView/DailyView.jsx`
**תיקון באג:** חישוב זמן ממתין + עדכון שעות לפי הגדרות חדשות (16:00).

### 2. `src/components/DailyView/SimpleTaskForm.jsx`
**תיקון:** תמיכה בשעות בית - הטופס עכשיו מזהה אם זו משימת עבודה או בית ומחשב את הזמן הפנוי בהתאם.

### 3. `src/services/taskIntervals.js`
**תיקון:** שיבוץ משימות בית - משימות מקטגוריית "בית" או "משפחה" ישובצו לשעות 16:30-21:00 (או סופ"ש).

### 4. `src/context/TaskContext.jsx`
**תיקון:** העברת קטגוריה - עכשיו מעביר את הקטגוריה (work/home) למערכת השיבוץ.

### 5. `src/config/workSchedule.js`
**חדש:** הגדרות שעות עבודה ובית מרכזיות.

### 6. `src/config/taskCategories.js`
**חדש:** קטגוריות עם שיוך לסוג לוח זמנים (work/home).

### 7. `src/utils/autoRescheduleDaily.js`
**תיקון:** מערכת הדחייה האוטומטית - עכשיו מבדילה בין משימות עבודה למשימות בית.

### 8. `src/components/Notifications/OverdueTaskManager.jsx`
**חדש!** פופאפ חוסם למשימות באיחור:
- מופיע כשמשימה עם שעה מוגדרת לא הושלמה בזמן
- **לא ניתן לסגור בלי לבחור פעולה**
- אפשרויות: להתחיל עכשיו, לדחות לשעה אחרת, להעביר למחר, לסמן כהושלמה, לבטל

### 9. `src/App.jsx`
**עדכון:** הוספת הפופאפ החוסם למשימות באיחור.

---

## הוראות התקנה

### שלב 1: גיבוי
לפני שמחליפים, גבי את הקבצים הקיימים.

### שלב 2: החלפה
1. לפתוח את ה-ZIP
2. להעתיק את כל הקבצים למקומות המתאימים בפרויקט:
   - `src/App.jsx`
   - `src/components/DailyView/DailyView.jsx`
   - `src/components/DailyView/SimpleTaskForm.jsx`
   - `src/components/Notifications/OverdueTaskManager.jsx` ← חדש!
   - `src/services/taskIntervals.js`
   - `src/context/TaskContext.jsx`
   - `src/config/workSchedule.js`
   - `src/config/taskCategories.js`
   - `src/utils/autoRescheduleDaily.js`

### שלב 3: העלאה
```bash
git add .
git commit -m "תמיכה בשעות בית ותיקון חישוב זמן"
git push
```

### שלב 4: בדיקה
1. לפתוח את האפליקציה
2. לבחור קטגוריית "בית" או "משפחה"
3. ליצור משימה - צריך לאפשר גם אחרי 16:00
4. לוודא שמשימות עבודה עדיין מוגבלות לשעות העבודה

---

## הערה על קטגוריות

הקטגוריות הקיימות:
- **עבודה** (work) - תמלול, הגהה, תרגום וכו' → שעות עבודה
- **משפחה** (family) → שעות בית
- **בית** (home) → שעות בית

את יכולה להוסיף/לשנות קטגוריות דרך ההגדרות באפליקציה.

---

## ✨ הפופאפ החוסם למשימות באיחור

**בעיה:** המערכת הייתה "רכה מדי" - אפשרה לדחות ולדחות בלי מחויבות.

**פתרון:** פופאפ שלא ניתן לסגור בלי לבחור פעולה!

### מתי הפופאפ מופיע:
1. משימה עם שעה מוגדרת לא התחילה (איחור של 10+ דקות)
2. משימה עם שעה מוגדרת לא הסתיימה בזמן (איחור של 5+ דקות)

### האפשרויות:
| פעולה | מה קורה |
|-------|---------|
| ▶️ להתחיל עכשיו | פותח את הטיימר על המשימה |
| ⏰ לדחות לשעה אחרת | בוחרים שעה חדשה להיום |
| 📅 להעביר למחר | המשימה עוברת למחר |
| ✅ סיימתי | מסמן כהושלמה |
| 🗑️ לבטל | מוחק את המשימה |

### למה זה חשוב:
- **אין אפשרות להתעלם** - הפופאפ חוסם את המסך
- **מכריח החלטה** - צריך לבחור מה לעשות
- **מסייע לאנשים עם הפרעות קשב** - מספק מסגרת ברורה

---

*דוח זה נוצר על ידי Claude • 05/01/2026*
