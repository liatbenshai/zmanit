# תיקונים לזמנית - גרסה 5

## שלושה תיקונים עיקריים:

### 1. ✅ התראות עובדות
- **NotificationChecker** חדש שבודק משימות כל 30 שניות
- התראות על: לפני המשימה, בזמן, ובאיחור
- תזכורת חוזרת למשימות באיחור
- צליל עם כל התראה

### 2. ✅ פיצול אוטומטי לאינטרוולים של 45 דקות
- משימה ארוכה (מעל 45 דקות) מתפצלת אוטומטית למשימות-ילד
- כל אינטרוול של 45 דקות הוא משימה נפרדת
- ניתן לסמן כל אינטרוול כהושלם בנפרד
- כשכל האינטרוולים הושלמו - המשימה ההורית מסומנת אוטומטית

### 3. ✅ תצוגה יומית חכמה - מודעת לשעה!
- משימות שהזמן שלהן **עבר** ולא הושלמו = מוצגות כ"באיחור" 🔴
- משימות שהזמן שלהן **עבר** והושלמו = מוצגות בסוף כ"הושלמו"
- משימות **עתידיות** = מוצגות רגיל
- חישוב הזמן שנותר מתעדכן כל דקה ומתבסס רק על משימות עתידיות!

## קבצים להחלפה

```
src/
├── App.jsx                               ← מוסיף NotificationChecker
├── main.jsx                              ← מנקה קוד חסימה
├── context/
│   ├── NotificationContext.jsx           ← התראות + צליל
│   └── TaskContext.jsx                   ← תמיכה באינטרוולים
├── services/
│   └── taskIntervals.js                  ← חדש! לוגיקת אינטרוולים
├── pages/
│   └── Settings.jsx                      ← הגדרות התראות
└── components/
    ├── DailyView/
    │   └── DailyView.jsx                 ← חדש! תצוגה יומית חכמה
    └── Notifications/
        └── NotificationChecker.jsx       ← חדש! בודק התראות

public/
└── sw.js                                 ← תמיכה ב-push
```

## התקנה

1. **פתחי את ה-ZIP** והעתיקי את `src` ו-`public` לתיקיית הפרויקט
2. **אשרי החלפת קבצים**
3. **נקי cache:**
   - F12 → Application → Storage → Clear site data
4. **רעננו את הדף** (Ctrl+Shift+R)
5. **הגדרות** ⚙️ → **התראות** 🔔 → **אפשר התראות**

## מה אמור לקרות עכשיו

### בתצוגה היומית:
- **בראש** - משימות באיחור (עם פס אדום בצד)
- **באמצע** - משימות ממתינות (שעוד לא הגיע הזמן שלהן)
- **בסוף** - משימות שהושלמו

### חישוב זמן שנותר:
- מתעדכן כל דקה
- **לא** סופר משימות שעברו כ"מתוכננות"
- מראה באמת כמה זמן פנוי נשאר

### כשיוצרים משימה של 90 דקות:
- נוצרות 2 משימות-ילד של 45 דקות כל אחת
- כל אחת עם שם "שם המשימה (1/2)" ו-"שם המשימה (2/2)"
- כל אחת עם שעה משלה (רצף)

## איתור בעיות

פתחי Console (F12):

### התראות
```
🔔 בודק X משימות (HH:MM:SS)   ← כל 30 שניות
⏰ התראה לפני: [שם]           
🔴 איחור: [שם]                
```

### אינטרוולים
```
🔄 יוצר משימה עם X אינטרוולים    
✅ נוצרו X אינטרוולים            
```

### סימון משימה
```
🔄 toggleComplete נקרא: [id]
📋 משימה נמצאה: {...}
✅ משימה עודכנה: {...}
```
