# עדכון זמנית - 31/12/2024 (גרסה 2)

## 🐛 באגים שתוקנו

### 1. עריכת משימות - כפל זמן
**הבעיה:** כשעורכים משימת תמלול של 45 דקות (15 דקות הקלטה × 3), הטופס היה מכפיל שוב ב-3 = 135 דקות

**הפתרון:** בעריכה, הקוד מחשב הפוך את ערך הקלט

### 2. התראות על משימות שהושלמו
**הבעיה:** התראות ממשיכות להגיע על משימות שכבר סיימת

**הפתרון:** מעקב נפרד אחרי משימות שהושלמו

### 3. התראות על פרויקטים גדולים ✅ חדש!
**הבעיה:** התראות מגיעות על פרויקטים של 9 שעות שמחולקים לבלוקים

**הפתרון:** 
- משימות מעל 3 שעות נחשבות "פרויקטים" - לא מתריעים עליהן
- לא מתריעים על משימות שמתוכננות ליותר משעה מעכשיו
- לא מתריעים על משימות שעברו יותר מ-2 שעות (כנראה נדחו)

### 4. דחייה אוטומטית - פרויקטים גדולים ✅ חדש!
**הבעיה:** הבאנר "העבר למחר" הציג פרויקטים של 540 דקות

**הפתרון:** פרויקטים מעל 3 שעות לא נכללים בדחייה האוטומטית - הם מטופלים ע"י smartScheduler

---

## ✨ פיצ'רים חדשים

### 5. דחייה אוטומטית של משימות
כשאין מספיק זמן להיום:
- מופיע באנר אדום עם רשימת המשימות שלא יכנסו
- כפתור **"🚀 העבר אוטומטית למחר"**
- אפשרות לבחירה ידנית

כשיש זמן פנוי:
- מופיע באנר ירוק עם משימות שאפשר למשוך ממחר
- כפתור **"📥 משוך להיום"**

---

## 📦 קבצים לעדכון

החליפי את הקבצים הבאים (שמרי על מבנה התיקיות):

```
src/
├── components/
│   ├── DailyView/
│   │   ├── DailyView.jsx          ← דחייה אוטומטית
│   │   └── SimpleTaskForm.jsx     ← תיקון כפל זמן
│   ├── Dashboard/
│   │   └── SmartDashboard.jsx     ← תכנון שבועי
│   └── Notifications/
│       └── NotificationChecker.jsx ← תיקון התראות
└── utils/
    └── autoRescheduleDaily.js     ← חדש! מערכת דחייה
```

---

## 🔧 התקנה

1. גררי את כל התיקיות לתוך `src/` בפרויקט
2. עשי refresh לדף (Ctrl+Shift+R)
3. בדקי שהכל עובד!

---

## 💡 איך הדחייה האוטומטית עובדת

1. **חישוב זמן פנוי:** מהשעה הנוכחית עד 16:15
2. **מיון משימות:** לפי עדיפות (דחוף > גבוה > רגיל) ושעה
3. **משימות עם טיימר פעיל:** תמיד נשארות להיום
4. **עודף:** מועבר ליום העבודה הבא (דילוג על שבת)
5. **זמן פנוי:** אפשר למשוך משימות ממחר
