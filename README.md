# תיקון זמנית - 1.1.2025

## 🔧 מה תוקן

### 1. ✅ חדש: הוספת משימות מהדשבורד - תכנון שבועי!
- כפתור "הוסף עבודה חדשה" פותח טופס מלא (לא רק ניווט)
- **בורר ימים שבועי** - לחיצה על יום פותחת טופס עם התאריך הנבחר
- מאפשר תכנון שבועי ישירות מהדשבורד

### 2. דיאלוג בחירת שיבוץ למשימות ארוכות
כשיוצרים משימה שמתחלקת ליותר מבלוק אחד, נפתח דיאלוג ששואל:
- כמה בלוקים לשבץ להיום
- מציג זמן פנוי היום
- מאפשר בחירה ידנית

### 3. תיקון שגיאת הגדרות (409 Conflict)
שגיאת `duplicate key value violates unique constraint` תוקנה

### 4. תיקון עדכון ימי עבודה
ימי העבודה נשמרים כראוי כמערך

### 5. תיקון שיבוץ משימות שלא נכנסות
משימות שלא נכנסות בשלמותן לחלון זמן פנוי - עכשיו משובצות לפי מה שנכנס

### 6. תיקון "משוך להיום" / "העבר למחר"
משימות שמועברות בין ימים שומרות את כל הנתונים שלהן:
- סוג העבודה (task_type)
- אורך המשימה (estimated_duration)
- עדיפות (priority)
- הערות (description)

---

## 📦 קבצים בחבילה

```
src/
├── components/
│   ├── Admin/
│   │   └── AdminSettings.jsx     ← תיקון workDays
│   ├── Dashboard/
│   │   └── Dashboard.jsx         ← ✅ חדש! תכנון שבועי
│   └── DailyView/
│       └── SimpleTaskForm.jsx    ← דיאלוג בחירת שיבוץ
├── config/
│   └── appConfig.js              ← תיקון upsert 409
├── services/
│   └── taskIntervals.js          ← תמיכה ב-blocksForToday
└── utils/
    ├── autoRescheduleDaily.js    ← תיקון שמירת נתונים בהעברה
    └── smartScheduler.js         ← תיקון שיבוץ חלקי
```

---

## 📋 התקנה

1. העתיקי את תיקיית `src/` לפרויקט
2. רענני עם `Ctrl+Shift+R`

---

## 🎯 תכנון שבועי מהדשבורד

### איך זה נראה:

```
┌─────────────────────────────────────┐
│  📆 הוסף משימה ליום...              │
├─────────────────────────────────────┤
│  ┌────┐ ┌────┐ ┌────┐ ┌────┐ ...   │
│  │ א׳ │ │ ב׳ │ │ ג׳ │ │ ד׳ │        │
│  │ 1  │ │ 2  │ │ 3  │ │ 4  │        │
│  │היום│ │    │ │    │ │    │        │
│  └────┘ └────┘ └────┘ └────┘        │
└─────────────────────────────────────┘
```

- לחיצה על יום → נפתח טופס הוספת משימה עם התאריך הזה
- ימי שישי/שבת מושבתים
- היום מסומן בכחול

---

## ⚠️ הערות

- "בחירה ידנית" כבר קיימת בהודעת "לא יספיק"
- משימות שהועברו למחר נשארות שם
- עדיפות: דחוף → בינוני → רגיל
