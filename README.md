# תיקונים לזמנית - גרסה 4

## שני תיקונים עיקריים:

### 1. ✅ התראות עובדות
- **NotificationChecker** חדש שבודק משימות כל 30 שניות
- התראות על: לפני המשימה, בזמן, ובאיחור
- תזכורת חוזרת למשימות באיחור
- צליל עם כל התראה

### 2. ✅ פיצול אוטומטי לאינטרוולים של 45 דקות
- משימה ארוכה (מעל 45 דקות) מתפצלת אוטומטית למשימות-ילד
- כל אינטרוול של 45 דקות הוא משימה נפרדת
- ניתן לסמן כל אינטרוול כהושלם בנפרד
- כשכל האינטרוולים הושלמו - המשימה ההורית מסומנת אוטומטית

## איך זה עובד - אינטרוולים

**לדוגמה:** יוצרים משימה של 360 דקות (6 שעות)
- המערכת יוצרת משימה הורית + 8 אינטרוולים של 45 דקות
- כל אינטרוול מקבל שם: "שם המשימה (1/8)", "שם המשימה (2/8)" וכו'
- כשמסמנים אינטרוול כהושלם - רק הוא מסומן
- כשכל 8 הושלמו - המשימה ההורית מסומנת אוטומטית

## קבצים להחלפה

```
src/
├── App.jsx                               ← מוסיף NotificationChecker
├── main.jsx                              ← מנקה קוד חסימה
├── context/
│   ├── NotificationContext.jsx           ← התראות + צליל
│   └── TaskContext.jsx                   ← תמיכה באינטרוולים
├── services/
│   └── taskIntervals.js                  ← חדש! לוגיקת אינטרוולים
├── pages/
│   └── Settings.jsx                      ← הגדרות התראות
└── components/Notifications/
    └── NotificationChecker.jsx           ← חדש! בודק התראות

public/
└── sw.js                                 ← תמיכה ב-push
```

## התקנה

1. **פתחי את ה-ZIP** והעתיקי את `src` ו-`public` לתיקיית הפרויקט
2. **אשרי החלפת קבצים**
3. **נקי cache:**
   - F12 → Application → Storage → Clear site data
4. **רעננו את הדף** (Ctrl+Shift+R)
5. **הגדרות** ⚙️ → **התראות** 🔔 → **אפשר התראות**
6. **בדקי** - צרי משימה של 90 דקות ותראי שהיא מתפצלת ל-2 אינטרוולים

## הגדרות התראות

| הגדרה | ברירת מחדל |
|-------|------------|
| התראה לפני | 5 דקות |
| התראה בזמן | ✅ |
| תזכורת חוזרת | כל 10 דקות |
| צליל | ✅ |

## איתור בעיות

### התראות
פתחי Console (F12):
```
🔔 בודק X משימות (HH:MM:SS)   ← אמור להופיע כל 30 שניות
⏰ התראה לפני: [שם]           ← כשמשימה מתקרבת
🔴 איחור: [שם]                ← כשמשימה באיחור
```

### אינטרוולים
```
🔄 יוצר משימה עם X אינטרוולים    ← כשיוצרים משימה ארוכה
✅ נוצרו X אינטרוולים            ← אחרי יצירה מוצלחת
🎉 כל האינטרוולים הושלמו!        ← כשמסיימים את כולם
```

## שאלות נפוצות

**ש: מה קורה אם אני עורכת משימה קיימת ומגדילה את הזמן?**
ת: העריכה לא יוצרת אינטרוולים חדשים. אינטרוולים נוצרים רק ביצירת משימה חדשה.

**ש: אפשר לשנות את אורך האינטרוול מ-45 דקות?**
ת: כרגע לא דרך הממשק. צריך לשנות את `INTERVAL_DURATION` בקוד.

**ש: מה קורה כשמוחקים משימה הורית?**
ת: כל האינטרוולים נמחקים יחד איתה.
