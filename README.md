# עדכון זמנית - 31/12/2024 (גרסה 5)

## 🐛 באגים שתוקנו

### 1. עריכת משימות - כפל זמן
משימת תמלול לא מוכפלת פעמיים

### 2. התראות על משימות שהושלמו
לא מתריעים על משימות שכבר סיימת

### 3. התראות על פרויקטים גדולים
לא מתריעים על פרויקטים מעל 3 שעות

### 4. סדר בלוקים של פרויקטים ✅ 
בלוקים ממוינים לפי blockIndex (3/12 לפני 4/12)

### 5. התראות לפי לו"ז דינמי ✅ חדש!
**הבעיה:** התראות קופצות לפי הזמן המקורי, לא לפי הלו"ז שמשתנה

**הפתרון:** 
- חישוב לו"ז דינמי כמו ב-DailyView
- התראות מבוססות על הזמן המחושב, לא על due_time

### 6. התראה על סיום משימה ✅ חדש!
**הבעיה:** אין התראה כשמגיע הזמן לסיים משימה

**הפתרון:** 
- התראה 5 דקות לפני סיום הזמן המוקצב (כשטיימר רץ)
- התראה כשהזמן נגמר
- התראה על חריגה (כל 10 דקות)
- התראה כשהמשימה אמורה להסתיים לפי הלו"ז

---

## ✨ סוגי התראות

| התראה | מתי | דוגמה |
|--------|------|--------|
| ⏰ לפני | 5 דק' לפני התחלה | "מתחיל בעוד 5 דקות (10:30)" |
| 🔔 בזמן | בדיוק כשהגיע הזמן | "הגיע הזמן להתחיל! (30 דק')" |
| ⏳ סיום קרב | 5 דק' לפני סוף | "נשארו 5 דקות לסיום!" |
| ⏳ לפי לו"ז | כשהמשימה אמורה להסתיים | "המשימה אמורה להסתיים ב-11:00" |
| 🔔 הזמן נגמר | כשעבר הזמן המוקצב | "הזמן המוקצב הסתיים" |
| ⚠️ חריגה | כל 10 דק' בחריגה | "חרגת ב-15 דקות מהזמן" |
| ⏰ איחור | 1-30 דק' באיחור | "היית אמור להתחיל לפני 10 דקות" |

---

## 📦 קבצים לעדכון (9 קבצים)

```
src/
├── components/
│   ├── Analytics/
│   │   ├── DailySummary.jsx       
│   │   └── WeeklyReview.jsx       
│   ├── DailyView/
│   │   ├── DailyView.jsx          
│   │   └── SimpleTaskForm.jsx     
│   ├── Dashboard/
│   │   └── SmartDashboard.jsx     
│   ├── Notifications/
│   │   └── NotificationChecker.jsx ← התראות דינמיות!
│   └── Tasks/
│       └── TaskTimerWithInterruptions.jsx 
└── utils/
    ├── autoRescheduleDaily.js     
    └── taskOrder.js               
```

---

## 🔧 התקנה

1. חלצי את ה-ZIP
2. גררי את תיקיית `src/` לתוך הפרויקט
3. Refresh (Ctrl+Shift+R)

---

## 💡 איך זה עובד

כשמשימה נדחית (כי עבדת יותר זמן על הקודמת), הלו"ז מחושב מחדש:

**מקור:** 
```
09:00 - משימה א (30 דק')
09:30 - משימה ב (30 דק')
10:00 - משימה ג (30 דק')
```

**אם עבדת על א' עד 09:45:**
```
09:45 - משימה ב (30 דק')  ← התראה תגיע ב-09:40!
10:20 - משימה ג (30 דק')  ← התראה תגיע ב-10:15!
```

ההתראות עוקבות אחרי הלו"ז הדינמי!
